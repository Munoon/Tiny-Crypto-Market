{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./scripts/components/App/App.js","webpack:///./scripts/components/BaseComponent/BaseComponent.js","webpack:///./scripts/components/Portfolio/Portfolio.js","webpack:///./scripts/components/Table/Table.js","webpack:///./scripts/components/TradeWidget/TradeWidget.js","webpack:///./scripts/index.js","webpack:///./scripts/services/DataService.js"],"names":["App","element","_el","_userBalance","_render","DataService","getCurrencies","data","_data","_initTable","_initPortfolio","_initTradeWidget","querySelector","addEventListener","e","_table","doFilter","target","value","id","coin","find","_tradeWidget","trade","_portfolio","Portfolio","balance","TradeWidget","on","detail","item","amount","addItem","price","Table","tradeItem","innerHTML","BaseComponent","eventType","callback","_portfolioWorth","_balance","_items","currentItem","name","total","purchasePrice","Object","values","reduce","items","toFixed","length","map","join","elems","document","querySelectorAll","M","Collapsible","init","_sort","_filter","_onRowClick","text","arr","closest","dataset","rowClickEvent","CustomEvent","dispatchEvent","sort","symbol","rank","isNumeric","n","isNaN","parseFloat","isFinite","_updateDisplay","close","buyEvent","_currentItem","key","includes","preventDefault","_total","classList","remove","_totalEl","textContent","getElementById","COINS_URL","getSingleCoinUrl","filter","_sendRequest","then","response","console","log","urls","acc","url","push","Promise","all","forEach","index","undefined","firstElement","fetch","json","array","trim","toLowerCase","itemName","itemSymbol","slice","type","a","b","aName","bName"],"mappings":"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","file":"./index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./scripts/index.js\");\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import { Table } from '../Table/Table.js';\r\nimport { Portfolio } from '../Portfolio/Portfolio.js';\r\nimport { TradeWidget } from '../TradeWidget/TradeWidget.js';\r\nimport DataService from '../../services/DataService.js';\r\n\r\nexport class App {\r\n  constructor({ element }) {\r\n    this._el = element;\r\n    this._userBalance = 10000;\r\n     \r\n    this._render();\r\n\r\n    DataService.getCurrencies(data => {\r\n      this._data = data;\r\n      this._initTable(this._data);\r\n    });\r\n\r\n    this._initPortfolio();\r\n    this._initTradeWidget();    \r\n\r\n    this._el.querySelector('#filter').addEventListener('input', e => {\r\n      this._table.doFilter(e.target.value);\r\n    })\r\n  } \r\n  \r\n  tradeItem(id) {\r\n    const coin = this._data.find(coin => coin.id === id);\r\n    this._tradeWidget.trade(coin, this._userBalance);\r\n  }\r\n\r\n  _initPortfolio() {\r\n    this._portfolio = new Portfolio({\r\n      element: this._el.querySelector('[data-element=\"portfolio\"]'),\r\n      balance: this._userBalance,\r\n    });\r\n  }\r\n\r\n  _initTradeWidget() {\r\n    this._tradeWidget = new TradeWidget({\r\n      element: this._el.querySelector('[data-element=\"trade-widget\"]'),\r\n    })\r\n\r\n    this._tradeWidget.on('buy', e => {\r\n      const { item, amount } = e.detail;\r\n      this._portfolio.addItem(item, amount);\r\n      this._userBalance -= item.price * amount;\r\n    })\r\n  }\r\n\r\n  _initTable(data) {\r\n    this._table = new Table({\r\n      data,\r\n      element: this._el.querySelector('[data-element=\"table\"]'),\r\n    })\r\n\r\n    this._table.on('rowClick', e => {\r\n      this.tradeItem(e.detail.id)\r\n    })\r\n  }\r\n    \r\n  _render() {\r\n    this._el.innerHTML = `\r\n        <div class=\"row\">\r\n            <div class=\"col s12\">\r\n                <h1>Tiny Crypto Market</h1>\r\n            </div>\r\n        </div>\r\n        <div>\r\n          <form class=\"col s12\">\r\n            <div class=\"input-field col s4\">\r\n                <input id=\"filter\" id=\"amount\" type=\"text\" placeholder=\"Filter\">\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"row portfolio-row\">\r\n          <div class=\"col s6 offset-s6\" data-element=\"portfolio\"></div>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <div data-element=\"table\" class=\"col s12\"></div>\r\n        </div>\r\n        <div data-element=\"trade-widget\"></div>\r\n    `;\r\n  }\r\n}\r\n","export default class BaseComponent {\r\n  on(eventType, callback) {\r\n    this._el.addEventListener(eventType, callback);\r\n  }\r\n}","export class Portfolio {\r\n  constructor({ element, balance }) {\r\n      this._el = element;\r\n      this._portfolioWorth = 0;\r\n      this._balance = balance;\r\n      this._items = {};\r\n      this._render();\r\n  }\r\n\r\n  addItem(item, amount) {\r\n    const currentItem = this._items[item.id] || {\r\n      name: item.name,\r\n      id: item.id,\r\n      amount: 0,\r\n      total: 0,\r\n    }\r\n\r\n    currentItem.price = item.price;\r\n    currentItem.amount = currentItem.amount + amount;\r\n    currentItem.total = currentItem.price * currentItem.amount;\r\n    this._items[item.id] = currentItem;\r\n\r\n    const purchasePrice = item.price * amount;\r\n    this._balance -= purchasePrice;\r\n\r\n    this._portfolioWorth = Object.values(this._items)\r\n      .reduce((total, item) => total + item.total, 0);\r\n    \r\n    this._render();\r\n  }\r\n\r\n  _render() {\r\n      const items = Object.values(this._items);\r\n      this._el.innerHTML = `\r\n            <ul class=\"collapsible portfolio\">\r\n              <li>\r\n                <p class=\"collapsible-header\">\r\n                    Current balance: ${this._balance.toFixed(2)}.\r\n                    Portfolio Worth: ${this._portfolioWorth.toFixed(2)}\r\n                </p>\r\n                <div class=\"collapsible-body\">\r\n                ${\r\n                  items.length === 0\r\n                    ? 'There is nothing yet!'\r\n                    : `\r\n                    <table class=\"highlight striped\"> \r\n                      <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Amount</th>\r\n                            <th>Price</th>\r\n                            <th>Total</th>\r\n                        </tr>\r\n                      </thead>\r\n              \r\n                      <tbody>\r\n                          ${items.map(item => `\r\n                            <tr data-id=\"${item.id}\">\r\n                                <td>${item.name}</td>\r\n                                <td>${item.amount}</td>\r\n                                <td>${item.price}</td>\r\n                                <td>${item.total}</td>\r\n                            </tr>\r\n                          `).join('')}\r\n                      </tbody>\r\n                  </table>\r\n                    `\r\n                }\r\n      \r\n                </div>\r\n              </li>\r\n            </ul>\r\n      `;\r\n\r\n      let elems = document.querySelectorAll('.collapsible');\r\n      M.Collapsible.init(elems);\r\n  }\r\n}\r\n","import BaseComponent from '../BaseComponent/BaseComponent.js';\r\nimport DataService from '../../services/DataService.js';\r\n\r\nexport class Table extends BaseComponent {\r\n  constructor({ data, element }) {\r\n    super();\r\n    \r\n    this._el = element;\r\n    this._data = data;\r\n\r\n    this._render(this._data);\r\n    this._sort = 'name';\r\n    this._filter = '';\r\n\r\n    this._el.addEventListener('click', e => {\r\n      this._onRowClick(e);\r\n    })\r\n  }\r\n\r\n  doFilter(text) {\r\n    this._filter = text;\r\n    const arr = DataService.getCurrencies(data => {\r\n      this._render(data);\r\n    }, this._filter, this._sort);\r\n  }\r\n\r\n  _onRowClick(e) {\r\n    const target = e.target.closest('tbody tr');\r\n    \r\n    if (target) {\r\n      const id = target.dataset.id;\r\n      if (id) {\r\n        let rowClickEvent = new CustomEvent('rowClick', {\r\n          detail: { id },\r\n        });\r\n        this._el.dispatchEvent(rowClickEvent);\r\n      }\r\n    } else {\r\n      this._sort = e.target.dataset.sort;\r\n      const arr = DataService.getCurrencies(data => {\r\n        this._render(data);\r\n      }, this._filter, this._sort);\r\n    };    \r\n  }\r\n    \r\n  _render(data) {\r\n    this._el.innerHTML = `\r\n    <table class=\"data-table highlight\"> \r\n      <thead>\r\n        <tr>\r\n          <th data-sort=\"name\">Name</th>\r\n          <th data-sort=\"symbol\">Symbol</th>\r\n          <th data-sort=\"rank\">Rank</th>\r\n          <th data-sort=\"price\">Price</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${\r\n          data.map(coin => `\r\n            <tr data-id=\"${coin.id}\">\r\n                <td>${coin.name}</td>\r\n                <td>${coin.symbol}</td>\r\n                <td>${coin.rank}</td>\r\n                <td>${coin.price}</td>\r\n            </tr>\r\n          `).join('')\r\n        }\r\n      </tbody>\r\n    </table>\r\n    `;\r\n  }\r\n}\r\n","import BaseComponent from '../BaseComponent/BaseComponent.js';\r\n\r\nfunction isNumeric(n) {\r\n  return !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n\r\nexport class TradeWidget extends BaseComponent {\r\n  constructor({ element }) {\r\n      super();\r\n      this._el = element;\r\n\r\n      this._el.addEventListener('input', e => {\r\n        if (!e.target.closest('#amount')) return;\r\n\r\n        const value = +e.target.value;\r\n        this._updateDisplay(value);\r\n      })\r\n\r\n      this._el.addEventListener('click', e => {\r\n        if (e.target.closest('[data-id=\"cancel\"]')) {\r\n          this.close();\r\n        }\r\n\r\n        if (e.target.closest('[data-id=\"buy\"]')) {\r\n          let buyEvent = new CustomEvent('buy', {\r\n            detail: {\r\n              amount: +this._el.querySelector('#amount').value,\r\n              item: this._currentItem,\r\n            }\r\n          });\r\n          this._el.dispatchEvent(buyEvent);\r\n          this.close();\r\n        }\r\n      })\r\n\r\n      this._el.addEventListener('keydown', e => {\r\n        if (!e.target.closest('#amount')) return;\r\n        const { key } = e;\r\n        const value = +e.target.value + +key;\r\n\r\n        if (e.target.value.includes('.') && key === '.') {\r\n          e.preventDefault();\r\n        } else if (!isNumeric(key) && key !== 'Backspace' && key != '.') {\r\n          e.preventDefault();\r\n        }\r\n\r\n        if (this._balance - this._currentItem.price * value < 0) {\r\n          e.preventDefault();\r\n        }\r\n      });\r\n  }\r\n\r\n  trade(item, balance) {\r\n    this._currentItem = item;\r\n    this._total = 0;\r\n    this._balance = balance;\r\n\r\n    this._render(item);\r\n  }\r\n\r\n  close() {\r\n    this._el.querySelector('.modal').classList.remove('open')\r\n  }\r\n\r\n  _updateDisplay(value) {\r\n    this._totalEl = this._el.querySelector('#item-total')\r\n    this._totalEl.textContent = (this._currentItem.price * value).toFixed(2);\r\n  }\r\n\r\n  _render(item) {\r\n    this._el.innerHTML = `  \r\n    <div id=\"modal\" class=\"modal open\">\r\n      <div class=\"modal-content\">\r\n        <h4>Buying ${item.name}:</h4>\r\n        <p>\r\n          Current price: ${item.price}. \r\n          Total: <span id=\"item-total\">${this._total}</span>\r\n        </p>\r\n\r\n        <div class=\"row\">\r\n          <form class=\"col s12\">\r\n              <div class=\"input-field col s4\">\r\n                  <input id=\"amount\" type=\"text\">\r\n                  <label for=\"amount\">Amount</label>\r\n              </div>\r\n          </form>\r\n        </div>\r\n\r\n        <div class=\"modal-footer\">\r\n          <a href=\"#!\" data-id=\"buy\" class=\"modal-close waves-effect waves-teal btn-flat\">Buy</a>\r\n          <a href=\"#!\" data-id=\"cancel\" class=\"modal-close waves-effect waves-teal btn-flat\">Cancel</a>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    `\r\n  }\r\n}\r\n","import { App } from './components/App/App.js';\r\n\r\nnew App({\r\n  element: document.getElementById('app')\r\n})\r\n","const COINS_URL = 'https://api.coinpaprika.com/v1/coins';\r\n\r\nconst getSingleCoinUrl = id => `https://api.coinpaprika.com/v1/coins/${id}/ohlcv/today/`;\r\n\r\nconst DataService = {\r\n  getCurrencies(callback, filter = \"\", sort = \"rank\") {\r\n    DataService._sendRequest(COINS_URL)\r\n      .then(response => {\r\n        let data = DataService._filter(response, filter);\r\n        data = DataService._sort(data, sort);\r\n        console.log('ready');\r\n\r\n        let urls = data.reduce((acc, item) => {\r\n          const url = getSingleCoinUrl(item.id);\r\n          acc.push(url)\r\n          return acc;\r\n        }, []);\r\n\r\n        Promise.all(urls.map(url => DataService._sendRequest(url, true)))\r\n          .then(response => {\r\n            response.forEach((element, index) => {\r\n              // Почему-то в массив иногда попадаеться undefined\r\n              // Поэтому приходиться удалять такие элементы\r\n              if (element !== undefined)\r\n                data[index].price = element.close;\r\n              else\r\n                delete data[index];\r\n            })\r\n          })\r\n          .then(() => callback(data));\r\n      })\r\n  },\r\n\r\n  _sendRequest(url, firstElement = false) {\r\n    return fetch(url)\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        if (firstElement) return response[0];\r\n        else return response; \r\n      });\r\n  },\r\n\r\n  _filter(array, text) {\r\n    text = text.trim().toLowerCase();\r\n    return array.filter(item => {\r\n      const itemName = item.name.toLowerCase();\r\n      const itemSymbol = item.symbol.toLowerCase();\r\n\r\n      if (itemName === undefined || itemSymbol === undefined) return false;\r\n      if (itemName.includes(text)) return true;\r\n      if (itemSymbol.includes(text)) return true;\r\n      if (text === \"\") return true;\r\n      return false;\r\n    }).slice(0, 10);\r\n  },\r\n\r\n  _sort(array, type) {\r\n    return array.sort((a, b) => {\r\n      let aName = a[type];\r\n      let bName = b[type];\r\n\r\n      if (aName > bName) return 1;\r\n      if (bName > aName) return -1;\r\n    })\r\n  }\r\n}\r\n\r\nexport default DataService;\r\n\r\n"],"sourceRoot":""}